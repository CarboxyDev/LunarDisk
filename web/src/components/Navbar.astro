---
const NAV_LINKS = [
  { label: 'Features', href: '/#features' },
  { label: 'Preview', href: '/#preview' },
  { label: 'Privacy', href: '/#privacy' },
];
---

<header class="animate-slide-down sticky top-0 z-50 border-b border-border bg-background/80 backdrop-blur-md">
  <div class="mx-auto flex h-16 max-w-6xl items-center justify-between px-6 md:grid md:grid-cols-[1fr_auto_1fr]">

    <div class="flex justify-start">
      <a href="/" class="flex items-center gap-2.5">
        <img src="/icon.svg" alt="LunarDisk" class="h-8 w-8 rounded-xl" />
        <span class="text-lg font-semibold tracking-tight text-foreground">LunarDisk</span>
      </a>
    </div>

    <nav class="hidden items-center justify-center gap-8 md:flex">
      {NAV_LINKS.map(link => (
        <a
          href={link.href}
          class="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground"
        >
          {link.label}
        </a>
      ))}
    </nav>

    <div class="flex items-center justify-end gap-2">
      <a
        href="https://github.com/CarboxyDev/Lunardisk"
        target="_blank"
        rel="noopener noreferrer"
        class="hidden h-9 items-center gap-1.5 rounded-lg border border-border px-3 text-sm text-muted-foreground transition-colors hover:text-foreground lg:inline-flex"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.385-1.335-1.755-1.335-1.755-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12" />
        </svg>
        GitHub
      </a>
      <a
        href="https://github.com/CarboxyDev/Lunardisk/releases"
        class="inline-flex h-9 items-center rounded-lg bg-primary px-4 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90"
      >
        Download
      </a>
      <button
        id="mobile-toggle"
        class="flex items-center text-muted-foreground md:hidden"
        aria-label="Toggle menu"
      >
        <svg id="icon-menu" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <svg id="icon-close" xmlns="http://www.w3.org/2000/svg" class="hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
  </div>

  <div id="mobile-menu" class="hidden border-t border-border md:hidden">
    <div class="flex flex-col gap-1 px-6 py-4">
      {NAV_LINKS.map(link => (
        <a
          href={link.href}
          class="rounded-md px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:text-foreground"
        >
          {link.label}
        </a>
      ))}
      <div class="mt-3">
        <a
          href="https://github.com/CarboxyDev/Lunardisk/releases"
          class="flex w-full items-center justify-center rounded-lg bg-primary px-4 py-2.5 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90"
        >
          Download for Mac
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  const toggle = document.getElementById('mobile-toggle');
  const menu = document.getElementById('mobile-menu');
  const iconMenu = document.getElementById('icon-menu');
  const iconClose = document.getElementById('icon-close');

  toggle?.addEventListener('click', () => {
    const open = !menu?.classList.contains('hidden');
    menu?.classList.toggle('hidden', open);
    iconMenu?.classList.toggle('hidden', !open);
    iconClose?.classList.toggle('hidden', open);
  });

  menu?.querySelectorAll('a').forEach(a => {
    a.addEventListener('click', () => {
      menu.classList.add('hidden');
      iconMenu?.classList.remove('hidden');
      iconClose?.classList.add('hidden');
    });
  });
</script>
